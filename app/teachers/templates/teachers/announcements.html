<!-- File: announcements.html -->
{% raw %}{% extends "base.html" %}
{% block title %}Announcements - Teacher{% endblock %}
{% block content %}

<style>
:root{--primary:#2563eb;--bg:#f8fafc;--card:#ffffff;--text:#1e293b}
body{background:var(--bg);color:var(--text);font-family:Poppins,Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
.header, .sidebar { }
.common-layout{display:flex}
#sidebar{width:240px;position:fixed;height:100vh;padding:1rem;background:linear-gradient(180deg,var(--primary),#1e40af);color:#fff;border-top-right-radius:12px;border-bottom-right-radius:12px;box-shadow:2px 0 18px rgba(16,24,40,.12)}
#sidebar nav a{display:flex;align-items:center;gap:.6rem;padding:.65rem .9rem;border-radius:8px;color:#fff;text-decoration:none;font-weight:600;transition:all .16s}
#sidebar nav a:hover{background:rgba(255,255,255,.08);transform:translateX(5px)}
main{margin-left:260px;padding:24px 32px}
.header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:var(--card);border-radius:10px;box-shadow:0 6px 18px rgba(16,24,40,.06)}
.title{font-size:20px;font-weight:700;color:var(--primary)}
.controls{display:flex;gap:10px;align-items:center}
.card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(16,24,40,.06)}
.announce-list{display:grid;gap:12px;margin-top:16px}
.announce-item{display:flex;justify-content:space-between;gap:12px;align-items:flex-start;padding:14px;border-radius:10px;border-left:4px solid var(--primary);background:linear-gradient(180deg,#fff,#fbfdff)}
.announce-meta{color:#6b7280;font-size:13px}
.form-row{display:flex;gap:12px}
.form-row .field{flex:1}
.btn{background:var(--primary);color:#fff;padding:.6rem .9rem;border-radius:8px;border:none;cursor:pointer;font-weight:700}
@media (max-width:800px){#sidebar{position:relative;width:100%;height:auto;border-radius:0}main{margin-left:0;padding:16px}}
</style>

<div class="common-layout">
  <aside id="sidebar">
    <div class="brand" style="margin-bottom:1rem"><strong>Teachly</strong></div>
    <nav>
      <a href="/teacher/dashboard">üè† Dashboard</a>
      <a href="/teacher/assignments">üìù Assignments</a>
      <a href="/teacher/manage_students">üë• Students</a>
      <a href="/teacher/reports">üìä Reports</a>
      <a href="/teacher/announcements">üîî Announcements</a>
    </nav>
  </aside>

  <main>
    <header class="header">
      <div>
        <div class="title">Announcements</div>
        <div class="dashboard-sub">Create notices & keep students updated</div>
      </div>
      <div class="controls">
        <button class="btn" onclick="document.getElementById('newAnnouncement').style.display='block'">+ New Announcement</button>
      </div>
    </header>

    <section style="margin-top:18px">
      <div id="newAnnouncement" class="card" style="display:none">
        <form method="post" action="{% raw %}{% url 'teacher:create_announcement' %}{% endraw %}">
          {% raw %}{% csrf_token %}{% endraw %}
          <div class="form-row" style="margin-bottom:10px">
            <input class="field" name="title" placeholder="Title" required style="padding:10px;border-radius:8px;border:1px solid #e6eefc">
            <select name="audience" class="field" style="padding:10px;border-radius:8px;border:1px solid #e6eefc">
              <option value="all">All Students</option>
              <option value="class_a">Class A</option>
              <option value="class_b">Class B</option>
            </select>
          </div>
          <textarea name="content" rows="4" placeholder="Write your announcement..." style="width:100%;padding:12px;border-radius:8px;border:1px solid #e6eefc"></textarea>
          <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
            <button type="button" class="btn" onclick="document.getElementById('newAnnouncement').style.display='none'" style="background:#ef4444">Cancel</button>
            <button type="submit" class="btn">Publish</button>
          </div>
        </form>
      </div>

      <div class="announce-list">
        <!-- Example item: loop over announcements in real app -->
        <div class="announce-item card">
          <div style="flex:1">
            <div style="font-weight:700">Midterm Schedule Update</div>
            <div class="announce-meta">Posted by <strong>Mr. Sharma</strong> ‚Ä¢ Sep 1, 2025</div>
            <div style="margin-top:8px;color:#374151">Midterms will start from Sep 20. Please check the schedule and reach out if any clash.</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
            <a href="#" class="btn" style="background:#10b981">View</a>
            <a href="#" class="btn" style="background:#f59e0b">Edit</a>
          </div>
        </div>

        <!-- More items... -->
      </div>
    </section>
  </main>
</div>

<script>
// Simple progressive UI behaviour
function toggle(id){const el=document.getElementById(id);el.style.display=(el.style.display==='block')? 'none':'block'}
</script>

{% endblock %}
{% endraw %}

