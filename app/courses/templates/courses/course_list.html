{% load static %}

<style>
.course-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.btn.buy {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
}

.btn.start {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
}

.btn:hover {
    opacity: 0.9;
}

.courses-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
}

.course-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    width: 300px;
    overflow: hidden;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.course-info {
    padding: 15px;
    background: #fff;
}
</style>
<div class="courses-container">
    {% if courses %}
        {% for course in courses %}
        <div class="course-card">
            {% if course.image %}
                <img src="{{ course.image.url }}" alt="{{ course.title }}">
            {% else %}
                <img src="{% static 'images/default.jpg' %}" alt="{{ course.title }}">
            {% endif %}

            <div class="course-info">
                <h3>{{ course.title }}</h3>
                <p>{{ course.description }}</p>
                <a href="{% url 'courses:course_detail' course.slug %}" class="btn start">Enroll Now</a>
            </div>

            <div class="course-actions">
                {% comment %} Paid course button removed if not defined {% endcomment %}
                {% if course.lessons_in_lessons_app.first %}
                    <a href="{% url 'courses:course_player' slug=course.slug lesson_id=course.lessons_in_lessons_app.first.id %}" class="btn start">Start</a>
                {% endif %}
            </div>

        </div>
        {% endfor %}
    {% else %}
        <p>No courses available.</p>
    {% endif %}
</div>
