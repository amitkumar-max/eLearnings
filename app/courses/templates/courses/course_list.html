<h1 style="text-align:center; margin:20px 0;">Featured Courses</h1>
<div class="courses-container" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">

    {% if courses %}
        {% for course in courses %}
        <div class="course-card" style="border:1px solid #ddd; border-radius:8px; width:300px; overflow:hidden; box-shadow:0 2px 5px rgba(0,0,0,0.1);">

            {% comment %} Image logic: check jpg, jpeg, webp {% endcomment %}
            {% with image_name=course.title|slugify %}
                {% static 'images/' as img_path %}
                {% if img_path|add:image_name|add:'.jpg' %}
                    <img src="{% static 'images/' %}{{ image_name }}.jpg" alt="{{ course.title }}" style="width:100%; height:200px; object-fit:cover;">
                {% elif img_path|add:image_name|add:'.jpeg' %}
                    <img src="{% static 'images/' %}{{ image_name }}.jpeg" alt="{{ course.title }}" style="width:100%; height:200px; object-fit:cover;">
                {% elif img_path|add:image_name|add:'.webp' %}
                    <img src="{% static 'images/' %}{{ image_name }}.webp" alt="{{ course.title }}" style="width:100%; height:200px; object-fit:cover;">
                {% else %}
                    <img src="{% static 'images/default.jpg' %}" alt="{{ course.title }}" style="width:100%; height:200px; object-fit:cover;">
                {% endif %}
            {% endwith %}

            <div class="course-info" style="padding:15px; background:#fff;">
                <h3 style="font-size:1.2em; margin-bottom:10px;">{{ course.title }}</h3>
                <p style="font-size:0.95em; color:#555; min-height:50px;">{{ course.description }}</p>
                <a href="{% url 'courses:course_detail' course.slug %}" style="display:inline-block; margin-top:10px; padding:8px 15px; background:#32cd32; color:#fff; border-radius:5px; text-decoration:none;">Enroll Now</a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p style="text-align:center; color:#999;">No courses available yet.</p>
    {% endif %}

</div>
