{% extends 'base.html' %}
{% block title %}Comments | {{ blog.title }}{% endblock %}
{% block content %}
<style>
.comments-container {
    max-width: 700px;
    margin: 2.5rem auto;
    padding: 2rem;
    background: white;
    border-radius: 1rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}
.comment {
    border-bottom: 1px solid #e5e7eb;
    padding: 0.8rem 0;
}
.comment-user {
    font-weight: 600;
    color: #047857;
}
.comment-text {
    color: #374151;
    margin: 0.25rem 0 0 0;
}
.comment-form textarea {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid #d1d5db;
    border-radius: 0.6rem;
    margin-bottom: 1rem;
}
.comment-form button {
    background-color: #16a34a;
    color: white;
    padding: 0.7rem 1.5rem;
    font-weight: 600;
    border-radius: 0.6rem;
    border: none;
}
.comment-form button:hover {
    background-color: #15803d;
}
</style>

<div class="comments-container">
    <h2 class="text-2xl font-bold text-green-700 text-center mb-6">ðŸ’¬ Comments</h2>

    {% for comment in blog.comments.all %}
        <div class="comment">
            <p class="comment-user">{{ comment.user.username }}</p>
            <p class="comment-text">{{ comment.text }}</p>
        </div>
    {% empty %}
        <p>No comments yet. Be the first to comment!</p>
    {% endfor %}

    {% if user.is_authenticated %}
        <form method="POST" class="comment-form">
            {% csrf_token %}
            <textarea name="text" rows="3" placeholder="Write a comment..."></textarea>
            <button type="submit">Post Comment</button>
        </form>
    {% else %}
        <p class="text-center text-gray-500">Login to post a comment.</p>
    {% endif %}
</div>
{% endblock %}
